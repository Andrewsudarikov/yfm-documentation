# Оглавление документа

Структура документа описывается в файле `toc.yaml`:

* Только файлы, указанные в `toc.yaml`, обрабатываются при сборке документации.
* Оглавление документа генерируется на основе `toc.yaml`.

Файл `toc.yaml` имеет следующую структуру:

```yaml
title: Имя документа
href: index.yaml
items:
- name: Имя раздела
  href: path/to/file.md
  items:
    - name: Имя группы разделов
      items:
        - name: Имя раздела
          href: path/to/file.md
        - name: Имя вложенного блока
          items:
            - name: Имя раздела во вложенном блоке
              href: path/to/some/file.md
    - name: Имя другого раздела
      href: path/to/another/file.md
    - name: Раздел с условным вхождением
      href: path/to/conditional/file.md
      when: version == 12
    - name: Имя заимствованного блока
      include:
      path: another/toc.yaml
```

* `title` — название документа. Название отображается в оглавлении документа над списком всех разделов.
* `name` — имя блока или раздела.
* `href` — относительный путь до файла с YFM-контентом.
* `items` — группирующий элемент для отдельных разделов. Сгруппированные разделы отображаются в одном блоке в оглавлении документа.

## Условия видимости разделов {#when}

Отдельные разделы можно включать и исключать из документа в зависимости от значений [переменных](../syntax.md#vars).

Условие видимости описывается в параметре `when`.

Доступны операторы сравнения: `==`, `!=`, `<`, `>`, `<=`, `>=`.

```yaml
- name: Раздел с условным вхождением
  href: path/to/conditional/file.md
  when: version == 12
```

## Вставки оглавлений {#includes}

Вы можете включить в свой документ оглавление другого документа (другой файл `toc.yaml`) как подраздел. Так вы сможете независимо поддерживать отдельные разделы и потом собирать документ из крупных блоков. Это может быть полезно, например, если вы поддерживаете две версии документа: упрощенную справку для пользователей и более полное руководство администратора.

```yaml
- name: Имя заимствованного блока
  include:
    path: another/toc.yaml
```

* `include` — элемент, который позволяет вставить другое оглавление (другой файл `toc.yaml`) как подраздел. Должен содержать дочерний элемент `path`.
* `path` — путь до оглавления, которое нужно вставить.

## Разделы доступные только по ссылке {#hidden}

Можно сделать раздел или страницу доступную только по ссылке. Для этого нужно указать параметр `hidden`.

```yaml
- title: Секретный документ
  href: secret.md
  hidden: true
```

{% note tip %}

Скрытые страницы можно полностью исключить из сборки с помощью [ключа сборки](../tools/docs/settings.md) `--remove-hidden-toc-items=true`.

{% endnote %}